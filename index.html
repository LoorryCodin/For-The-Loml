<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>I Love Lily</title>

<style>
    body {
        margin: 0;
        height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #ffb6c1, #ffe6f0);
        font-family: Arial, sans-serif;
    }

    #loveBtn {
        font-size: clamp(32px, 6vw, 56px);
        padding: 40px 70px;
        border: none;
        border-radius: 30px;
        background-color: #ff4d88;
        color: white;
        cursor: pointer;
        box-shadow: 0 12px 25px rgba(0,0,0,0.25);
        transition: transform 0.2s;
        z-index: 2;
    }

    #loveBtn:hover { transform: scale(1.08); }

    #messageBox {
        display: none;
        margin-top: 25px;
        padding: 18px 28px;
        background: rgba(255, 255, 255, 0.85);
        border-radius: 22px;
        max-width: 85%;
        text-align: center;
        font-size: 18px;
        font-weight: bold;
        color: #ff2f75;
        box-shadow: 0 8px 20px rgba(255, 77, 136, 0.25);
        transition: box-shadow 0.3s ease, transform 0.3s ease;
        letter-spacing: 1px;
    }

    .message-glow {
        box-shadow: 0 0 25px rgba(255, 105, 180, 0.7);
        transform: scale(1.05);
    }

    #meterContainer {
        margin-top: 20px;
        width: 280px;
        background: #ffd6e8;
        border-radius: 20px;
        overflow: visible;
        position: relative;
    }

    #meterFill {
        height: 22px;
        width: 0%;
        background: linear-gradient(90deg, #ff4d88, #ff9ac6);
        transition: width 0.4s ease;
        border-radius: 20px;
    }

    .infinite {
        animation: expandRight 2.5s ease-out forwards, pulse 1.6s ease-in-out infinite;
    }

    @keyframes expandRight {
        from { width: 100%; }
        to { width: 160vw; }
    }

    @keyframes pulse {
        0%, 100% { opacity: 0.9; }
        50% { opacity: 1; }
    }

    #meterText {
        margin-top: 10px;
        font-size: 15px;
        color: #ff2f75;
        font-weight: bold;
        text-align: center;
        max-width: 90%;
    }

    .float {
        position: absolute;
        bottom: -20px;
        pointer-events: none;
        animation: floatUp linear forwards;
    }

    .loveText {
        font-family: Georgia, "Times New Roman", cursive;
        font-weight: 700;
        background: linear-gradient(45deg, #ff69b4, #c77dff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 12px rgba(199, 125, 255, 0.6);
        letter-spacing: 3px;
    }

    @keyframes floatUp {
        from { transform: translateY(0) rotate(0deg); opacity: 1; }
        to { transform: translateY(-120vh) rotate(360deg); opacity: 0; }
    }
</style>
</head>

<body>

<button id="loveBtn">I Love Lily</button>

<div id="messageBox"></div>

<div id="meterContainer">
    <div id="meterFill"></div>
</div>

<div id="meterText">
    My love for you is beyond anything anyone could ever imagine.
</div>

<script>
    const btn = document.getElementById("loveBtn");
    const meterFill = document.getElementById("meterFill");
    const meterText = document.getElementById("meterText");
    const messageBox = document.getElementById("messageBox");

    let love = 0;
    let infinite = false;
    let firstClick = true;
    let msgIndex = 0;

    const messages = [
        "YOU ARE THE LOVE OF MY LIFE",
        "I LOVE YOU SOOO MUCHHHH",
        "YOU ARE THE PRETTIEST",
        "THE CUTEST",
        "THE SMARTEST",
        "THE FUNNIEST",
        "THE GOOFIEST",
        "THE BLOBLOBLOBEST",
        "I LOVE YOU!"
    ];

    const infiniteMessages = [
        "MY PRECIOUS LITTLE BLOB ",
        "MY EVERYTHING üíñ",
        "I WILL ALWAYS HAVE A HUGE GIGANTIC CRUSH ON YOU"
    ];

    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function softChime(start, end, dur) {
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type = "sine";
        o.frequency.setValueAtTime(start, audioCtx.currentTime);
        o.frequency.exponentialRampToValueAtTime(end, audioCtx.currentTime + dur);
        g.gain.setValueAtTime(0.12, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + dur);
        o.connect(g).connect(audioCtx.destination);
        o.start();
        o.stop(audioCtx.currentTime + dur);
    }

    setInterval(() => {
        if (infinite) {
            if (Math.random() < 0.42) {
                spawnFloat("I LOVE YOU", "love");
            } else {
                spawnFloat(randomHeart(), "heart");
            }
        } else {
            spawnFloat("üíñ", "heart");
        }
    }, 900);

    btn.addEventListener("click", () => {
        softChime(520, 680, 0.18);

        if (firstClick) {
            messageBox.style.display = "block";
            firstClick = false;
        }

        const currentMessages = infinite
            ? messages.concat(infiniteMessages)
            : messages;

        messageBox.textContent = currentMessages[msgIndex % currentMessages.length];
        msgIndex++;

        messageBox.classList.add("message-glow");
        setTimeout(() => messageBox.classList.remove("message-glow"), 300);

        if (!infinite) {
            love += Math.floor(Math.random() * 7) + 6;

            if (love >= 100) {
                love = 100;
                infinite = true;
                meterFill.style.width = "100%";
                meterFill.classList.add("infinite");
                meterText.textContent = "My love for you is infinite ‚ôæÔ∏è";
                softChime(300, 900, 0.6);

                for (let i = 0; i < 40; i++) {
                    spawnFloat(randomHeart(), "heart");
                }
            } else {
                meterFill.style.width = love + "%";
                softChime(700, 880, 0.2);
            }
        }
    });

    function spawnFloat(content, type) {
        const el = document.createElement("div");
        el.className = "float";

        if (type === "love") {
            el.classList.add("loveText");
            el.style.fontSize = (26 + Math.random() * 10) + "px";
        } else {
            el.style.fontSize = (18 + Math.random() * 26) + "px";
        }

        el.innerHTML = content;
        el.style.left = Math.random() * 100 + "vw";
        el.style.animationDuration = (4 + Math.random() * 4) + "s";

        document.body.appendChild(el);
        setTimeout(() => el.remove(), 9000);
    }

    function randomHeart() {
        const hearts = ["üíñ", "üíó", "üíï", "‚ù§Ô∏è", "üíú"];
        return hearts[Math.floor(Math.random() * hearts.length)];
    }
</script>

</body>
</html>
